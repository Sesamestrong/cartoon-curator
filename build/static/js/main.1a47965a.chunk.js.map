{"version":3,"sources":["App.js","index.js"],"names":["API_URL","dateFromPath","path","replace","App","react_default","a","createElement","App_Newspaper","Component","Newspaper","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","search","URLSearchParams","window","location","url","state","date","reduce","last","next","get","Date","parseInt","comics","getAll","length","id","name","map","i","moment","format","document","title","newComics","comic","objectSpread","_this2","Fragment","className","onClick","addDays","index","App_Comic","updateVals","newVal","updateValue","remove","popComic","setDate","key","type","addComic","value","setState","concat","toConsumableArray","assign","setURL","console","log","newThing","list","ret","splice","numDays","newDate","getDate","applyDate","str","undefined","arguments","mom","delete","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","append","err","return","set","history","pushState","toString","Comic","_this3","strips","shown","getPath","findUrl","_this4","thisComic","role","aria-label","previous","ref","alt","style","display","src","App_ComicChoice","val","keys","includes","fetch","json","error","order","oldKeys","filter","newProps","oldState","ComicChoice","_this5","Select","findStrips","_this6","onChange","event","target","newStrips","_i2","_Object$keys","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.1a47965a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport moment from \"moment\";\nimport './App.css';\nimport 'url-search-params-polyfill';\n/*import 'core-js';*/\n// import 'core-js/features/promise';\nimport 'core-js/features/array/includes';\nimport 'core-js/web/url-search-params';\nimport 'whatwg-fetch';\n\nconst API_URL=\"https://Comic-Strip-API.426729.repl.co/api\";\n\nfunction dateFromPath(path){\n    return path.replace(/\\/[^/]*\\/(.*)$/g,\"$1\");\n}\n\nclass App extends Component {\n  render(){\n    return <Newspaper/>;\n  }\n}\n\nclass Newspaper extends Component {\nconstructor(props){\n    super(props);\n    let search=new URLSearchParams(window.location.search);\n    this.url=search;\n    this.state={date:[\"year\",\"month\",\"day\"].reduce((last,next)=>last||!search.get(next),false)?new Date():new Date(search.get(\"year\")+\"-\"+search.get(\"month\")+\"-\"+(parseInt(search.get(\"day\"))+1)),comics:[]};\n  let comics=search.getAll(\"comic\");\n  if(comics.length===0) this.state.comics=[{id:\"pearlsbeforeswine\",name:\"Pearls Before Swine\"},\n{id:\"dilbert-classics\",name:\"Dilbert Classics\"},\n{id:\"lio\",name:\"Lio\"},\n{id:\"calvinandhobbes\",name:\"Calvin and Hobbes\"},\n{id:\"foxtrot\",name:\"Foxtrot\"},\n{id:\"dilbert\",name:\"Dilbert\"},\n{id:\"garfield\",name:\"Garfield\"},];\n  else this.state.comics=comics.map(i=>({id:i}));\n  let date=moment(this.state.date).format(\"YYYY/MM/DD\");\n  document.title=moment(this.state.date).format(\"MMMM D[, ]YYYY\");\n  let newComics=this.state.comics.map(comic=>({...comic,date}));\n  this.state.comics=newComics;\n  }\n  render() {\n    //console.log(this.state.comics);\n    return (\n      <>\n      <div className=\"navBar\">\n        <button onClick={()=>this.addDays(-1)} className=\"changeDate\">&lt;</button>\n        <h1 className=\"title\">Cartoon Curator</h1>\n        <button onClick={()=>this.addDays(1)} className=\"changeDate next\">&gt;</button>\n      </div>\n      <div className=\"App\">\n        {this.state.comics.map((i,index)=><Comic updateVals={newVal=>this.updateValue(index,newVal)} remove={()=>this.popComic(index)} setDate={path=>this.setDate(index,path)} key={i.id} date={i.date} id={i.id} name={i.name}/>)}\n        <div className=\"input-container\">\n          <input type=\"button\" onClick={()=>this.addComic()} className=\"plus\" value=\"+\"/>\n        </div>\n      </div>\n      </>\n    );\n  }\n  addComic(){\n    this.setState({comics:[...this.state.comics,{id:\"\",name:\"\",date:moment(this.state.date).format(\"YYYY/MM/DD\")}]});\n  }\n  updateValue(index,value){\n      let comics=[...this.state.comics];\n      comics[index]=Object.assign({},comics[index],value);\n      this.setURL(comics);\n      this.setState({comics});\n  }\n  setDate(id,path){\n    console.log(\"setDate\",path);\n    let newComics=[...this.state.comics];\n    let newThing={...newComics[id]};\n    newThing.date=dateFromPath(path);\n    newComics[id]=newThing;\n    this.setState({comics:newComics});\n  }\n  popComic(index){\n    let list=[...this.state.comics];\n    let ret=list.splice(index,1);\n    this.setState({comics:list});\n    return ret;\n  }\n  addDays(numDays){\n    let newDate=new Date(this.state.date);\n    newDate.setDate(this.state.date.getDate()+numDays);\n    // this.state.date=newDate;\n    this.applyDate(newDate);\n  }\n  applyDate(date){\n    let mom=moment(date);\n    let str=mom.format(\"YYYY/MM/DD\");\n    let newComics=this.state.comics.map(comic=>({...comic,date:str}));\n    this.setURL(undefined,str);\n    // window.history.pushState(date, moment(date).format(\"MMMM D[,] YYYY\"), this.url.toString()/*moment(date).format(\"[?year=]YYYY[&month=]MM[&day=]DD\")*/);\n    this.setState({date,comics:newComics});\n  }\n  setURL(comics,date=this.state.date){\n      let mom=moment(date);\n    //   alert(this.url);\n      if(comics){\n          this.url.delete(\"comic\");\n          for(let comic of comics){\n            this.url.append(\"comic\",comic.id);\n          }\n      }\n      if(date){\n        this.url.set(\"year\",mom.format(\"YYYY\"));\n        this.url.set(\"month\",mom.format(\"MM\"));\n        this.url.set(\"day\",mom.format(\"DD\"));\n      }\n      window.history.pushState(date,moment(date).format(\"MMMM D[,] YYYY\"), '?'+this.url.toString());\n  }\n}\n\nclass Comic extends Component{\n  constructor(props){\n    super(props);\n    // this.date=this.props.date;\n    this.state={date:this.props.date,path:\"\",strips:{},shown:true,id:this.props.id,name:this.props.name};\n    if(this.state.id) {\n      this.state.path=this.getPath();\n      this.findUrl(this.state.path);\n    }\n  }\n  static getDerivedStateFromProps(newProps,oldState){\n      console.log(\"At gds\",newProps.date);\n      return newProps.date!==oldState.date?{date:newProps.date}:null;\n  }\n  render(){\n    console.log(\"Woohoo, starting render and\",this.state.date);\n    this.findUrl();\n    let thisComic=this.state.strips[this.state.path]||{};\n\n    return this.state.path!==\"\"&&this.state.id?\n    (\n      thisComic.url?<div className=\"comic-container\">\n        <h2>{this.state.name}</h2>\n        <p>{dateFromPath(this.state.path)}</p>\n        <span role=\"img\" aria-label=\"Delete\" onClick={this.props.remove}>❌</span>\n        <span className=\"comic\">\n        <input type=\"button\" onClick={()=>{console.log(thisComic.previous,\"bluh\");this.props.setDate(thisComic.previous);}} value=\"←\" className=\"arrow\"/>\n        <img ref=\"next\" alt=\"\" style={{display:\"none\"}} src={(this.state.strips[thisComic.previous]||{}).url}/>\n        <span>\n        <img ref=\"this\" alt={this.state.name||this.state.id+\" comic strip\"} src={thisComic.url} onClick={()=>this.props.setDate(thisComic.previous)}/>\n        </span>\n        <img ref=\"last\" alt=\"\" style={{display:\"none\"}} src={(this.state.strips[thisComic.next]||{}).url}/>\n        <input type=\"button\" onClick={()=>this.props.setDate(thisComic.next)} value=\"→\" className=\"arrow\"/>\n        </span>\n      </div>:null\n    ):(\n      <div className=\"input-container\">\n      <ComicChoice updateValue={(val)=>this.props.updateVals({id:val.id,name:val.name})}/>\n      </div>\n    );\n  }\n  async findUrl(path){\n    path=path||this.getPath();\n    let thisComic, strips={};\n    if(!Object.keys(this.state.strips).includes(path)){\n      let url=`${API_URL}${path}`;\n      let json=await fetch(url);\n      json=await json.json();\n      if(json.error) return console.log(url,\"failed\");\n      thisComic=json;\n      console.log(json);\n    }\n    else {\n      thisComic=this.state.strips[path];\n      //console.log(\"thisComic \",thisComic);\n    }\n    ////console.log(\"thisComic\",thisComic);\n    strips[path]=thisComic;\n    if(this.state.path!==path) {\n      console.log(this.state.path,path);\n      this.setState({path});\n    //   this.props.setDate(path);\n    }\n    // this.setState({path});\n    for(let order of [\"previous\",\"next\"]){\n      if(!this.state.strips[thisComic[order]]&&thisComic[order]&&thisComic[order]!==\"\") {\n        //console.log(\"Not working path\",thisComic[order]);\n        let url=`${API_URL}${thisComic[order]}`;\n        //console.log(url);\n        let json=await fetch(url);\n        try{json=await json.json();} catch(err){continue;}\n        //console.log(\"Adding the cache for\",thisComic[order],json.url)\n        strips[thisComic[order]]=json;\n      }\n      else {\n        strips[thisComic[order]]=this.state.strips[thisComic[order]];\n      }\n    }\n    //console.log(\"Strips\")\n    let oldKeys=Object.keys(this.state.strips);\n    if(Object.keys(strips).filter(i=>!oldKeys.includes(i)).length>0){\n        console.log(\"strips\");\n        this.setState({strips});\n    }\n  }\n  getPath(date=this.state.date){\n    console.log(\"getPath\",this.state.date);\n    return `/${this.state.id}/${date}`;\n  }\n}\n\nclass ComicChoice extends Component{\n  constructor(props) {\n    super(props);\n    this.state={strips:{\"Select\":\"\"}};\n    this.findStrips();\n  }\n  render(){\n    return <select className=\"comic-choice\" onChange={event=>this.props.updateValue({name:event.target.value,id:this.state.strips[event.target.value]})}>\n    {Object.keys(this.state.strips).map(i=><option key={i} value={i}>{i}</option>)}\n    </select>;\n  }\n  async findStrips(){\n    let strips=await fetch(`${API_URL}/ids`);\n    strips=await strips.json();\n    let newStrips={\"Select\":\"\"};\n    for(let key of Object.keys(strips)){\n      newStrips={...newStrips,...strips[key]};\n    }\n    this.setState({strips:newStrips});\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}