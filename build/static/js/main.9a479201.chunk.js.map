{"version":3,"sources":["App.js","index.js"],"names":["API_URL","dateFromPath","path","replace","App","react_default","a","createElement","App_Newspaper","Component","Newspaper","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","search","URLSearchParams","window","location","url","state","date","reduce","last","next","get","Date","parseInt","comics","getAll","length","id","name","map","i","moment","format","document","title","newComics","comic","objectSpread","_this2","Fragment","className","onClick","addDays","index","App_Comic","updateVals","newVal","updateValue","remove","popComic","setDate","key","type","addComic","value","setState","concat","toConsumableArray","assign","setURL","newThing","list","ret","splice","numDays","newDate","getDate","applyDate","str","undefined","arguments","mom","delete","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","append","err","return","set","history","pushState","toString","Comic","_this3","strips","shown","getPath","findUrl","_this4","thisComic","role","aria-label","previous","ref","alt","style","display","src","App_ComicChoice","val","keys","includes","fetch","json","error","console","log","order","oldKeys","filter","newProps","oldState","ComicChoice","_this5","Select","findStrips","_this6","onChange","event","target","newStrips","_i2","_Object$keys","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.9a479201.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport moment from \"moment\";\nimport './App.css';\nimport 'url-search-params-polyfill';\n/*import 'core-js';*/\n// import 'core-js/features/promise';\nimport 'core-js/features/array/includes';\nimport 'core-js/web/url-search-params';\nimport 'whatwg-fetch';\n\nconst API_URL=\"https://Comic-Strip-API.426729.repl.co\";\n\nfunction dateFromPath(path){\n    return path.replace(/\\/[^/]*\\/(.*)$/g,\"$1\");\n}\n\nclass App extends Component {\n  render(){\n    return <Newspaper/>;\n  }\n}\n\nclass Newspaper extends Component {\nconstructor(props){\n    super(props);\n    let search=new URLSearchParams(window.location.search);\n    this.url=search;\n    this.state={date:[\"year\",\"month\",\"day\"].reduce((last,next)=>last||!search.get(next),false)?new Date():new Date(search.get(\"year\")+\"-\"+search.get(\"month\")+\"-\"+(parseInt(search.get(\"day\"))+1)),comics:[]};\n  let comics=search.getAll(\"comic\");\n  if(comics.length===0) this.state.comics=[{id:\"pearlsbeforeswine\",name:\"Pearls Before Swine\"},\n{id:\"dilbert-classics\",name:\"Dilbert Classics\"},\n{id:\"lio\",name:\"Lio\"},\n{id:\"calvinandhobbes\",name:\"Calvin and Hobbes\"},\n{id:\"foxtrot\",name:\"Foxtrot\"},\n{id:\"dilbert\",name:\"Dilbert\"},\n{id:\"garfield\",name:\"Garfield\"},];\n  else this.state.comics=comics.map(i=>({id:i}));\n  let date=moment(this.state.date).format(\"YYYY/MM/DD\");\n  document.title=moment(this.state.date).format(\"MMMM D[, ]YYYY\");\n  let newComics=this.state.comics.map(comic=>({...comic,date}));\n  this.state.comics=newComics;\n  }\n  render() {\n    return (\n      <>\n      <div className=\"navBar\">\n        <button onClick={()=>this.addDays(-1)} className=\"changeDate\">&lt;</button>\n        <h1 className=\"title\">Cartoon Curator</h1>\n        <button onClick={()=>this.addDays(1)} className=\"changeDate next\">&gt;</button>\n      </div>\n      <div className=\"App\">\n        {this.state.comics.map((i,index)=><Comic updateVals={newVal=>this.updateValue(index,newVal)} remove={()=>this.popComic(index)} setDate={path=>this.setDate(index,path)} key={i.id} date={i.date} id={i.id} name={i.name}/>)}\n        <div className=\"input-container\">\n          <input type=\"button\" onClick={()=>this.addComic()} className=\"plus\" value=\"+\"/>\n        </div>\n      </div>\n      </>\n    );\n  }\n  addComic(){\n    this.setState({comics:[...this.state.comics,{id:\"\",name:\"\",date:moment(this.state.date).format(\"YYYY/MM/DD\")}]});\n  }\n  updateValue(index,value){\n      let comics=[...this.state.comics];\n      comics[index]=Object.assign({},comics[index],value);\n      this.setURL(comics);\n      this.setState({comics});\n  }\n  setDate(id,path){\n    let newComics=[...this.state.comics];\n    let newThing={...newComics[id]};\n    newThing.date=dateFromPath(path);\n    newComics[id]=newThing;\n    this.setState({comics:newComics});\n  }\n  popComic(index){\n    let list=[...this.state.comics];\n    let ret=list.splice(index,1);\n    this.setState({comics:list});\n    return ret;\n  }\n  addDays(numDays){\n    let newDate=new Date(this.state.date);\n    newDate.setDate(this.state.date.getDate()+numDays);\n    // this.state.date=newDate;\n    this.applyDate(newDate);\n  }\n  applyDate(date){\n    let mom=moment(date);\n    let str=mom.format(\"YYYY/MM/DD\");\n    let newComics=this.state.comics.map(comic=>({...comic,date:str}));\n    this.setURL(undefined,str);\n    // window.history.pushState(date, moment(date).format(\"MMMM D[,] YYYY\"), this.url.toString()/*moment(date).format(\"[?year=]YYYY[&month=]MM[&day=]DD\")*/);\n    this.setState({date,comics:newComics});\n  }\n  setURL(comics,date=this.state.date){\n      let mom=moment(date);\n    //   alert(this.url);\n      if(comics){\n          this.url.delete(\"comic\");\n          for(let comic of comics){\n            this.url.append(\"comic\",comic.id);\n          }\n      }\n      if(date){\n        this.url.set(\"year\",mom.format(\"YYYY\"));\n        this.url.set(\"month\",mom.format(\"MM\"));\n        this.url.set(\"day\",mom.format(\"DD\"));\n      }\n      window.history.pushState(date,moment(date).format(\"MMMM D[,] YYYY\"), '?'+this.url.toString());\n  }\n}\n\nclass Comic extends Component{\n  constructor(props){\n    super(props);\n    // this.date=this.props.date;\n    this.state={date:this.props.date,path:\"\",strips:{},shown:true,id:this.props.id,name:this.props.name};\n    if(this.state.id) {\n      this.state.path=this.getPath();\n      this.findUrl(this.state.path);\n    }\n  }\n  static getDerivedStateFromProps(newProps,oldState){\n      return newProps.date!==oldState.date?{date:newProps.date}:null;\n  }\n  render(){\n    this.findUrl();\n    let thisComic=this.state.strips[this.state.path]||{};\n\n    return this.state.path!==\"\"&&this.state.id?\n    (\n      thisComic.url?<div className=\"comic-container\">\n        <h2>{this.state.name}</h2>\n        <p>{dateFromPath(this.state.path)}</p>\n        <span role=\"img\" aria-label=\"Delete\" onClick={this.props.remove}>❌</span>\n        <span className=\"comic\">\n        <input type=\"button\" onClick={()=>this.props.setDate(thisComic.previous)} value=\"←\" className=\"arrow\"/>\n        <img ref=\"next\" alt=\"\" style={{display:\"none\"}} src={(this.state.strips[thisComic.previous]||{}).url}/>\n        <span>\n        <img ref=\"this\" alt={this.state.name||this.state.id+\" comic strip\"} src={thisComic.url} onClick={()=>this.props.setDate(thisComic.previous)}/>\n        </span>\n        <img ref=\"last\" alt=\"\" style={{display:\"none\"}} src={(this.state.strips[thisComic.next]||{}).url}/>\n        <input type=\"button\" onClick={()=>this.props.setDate(thisComic.next)} value=\"→\" className=\"arrow\"/>\n        </span>\n      </div>:null\n    ):(\n      <div className=\"input-container\">\n      <ComicChoice updateValue={(val)=>this.props.updateVals({id:val.id,name:val.name})}/>\n      </div>\n    );\n  }\n  async findUrl(path){\n    path=path||this.getPath();\n    let thisComic, strips={};\n    if(!Object.keys(this.state.strips).includes(path)){\n      let url=`${API_URL}/api${path}`;\n      let json=await fetch(url);\n      json=await json.json();\n      if(json.error) return console.log(url,\"failed\");\n      thisComic=json;\n    }\n    else {\n      thisComic=this.state.strips[path];\n    }\n    strips[path]=thisComic;\n    if(this.state.path!==path) {\n      this.setState({path});\n    }\n    for(let order of [\"previous\",\"next\"]){\n      if(!this.state.strips[thisComic[order]]&&thisComic[order]&&thisComic[order]!==\"\") {\n        let url=`${API_URL}/api${thisComic[order]}`;\n        let json=await fetch(url);\n        try{json=await json.json();} catch(err){continue;}\n        strips[thisComic[order]]=json;\n      }\n      else {\n        strips[thisComic[order]]=this.state.strips[thisComic[order]];\n      }\n    }\n    let oldKeys=Object.keys(this.state.strips);\n    if(Object.keys(strips).filter(i=>!oldKeys.includes(i)).length>0){\n        this.setState({strips});\n    }\n  }\n  getPath(date=this.state.date){\n    return `/${this.state.id}/${date}`;\n  }\n}\n\nclass ComicChoice extends Component{\n  constructor(props) {\n    super(props);\n    this.state={strips:{\"Select\":\"\"}};\n    this.findStrips();\n  }\n  render(){\n    return <select className=\"comic-choice\" onChange={event=>this.props.updateValue({name:event.target.value,id:this.state.strips[event.target.value]})}>\n    {Object.keys(this.state.strips).map(i=><option key={i} value={i}>{i}</option>)}\n    </select>;\n  }\n  async findStrips(){\n    let strips=await fetch(`${API_URL}/ids`);\n    strips=await strips.json();\n    let newStrips={\"Select\":\"\"};\n    for(let key of Object.keys(strips)){\n      newStrips={...newStrips,...strips[key]};\n    }\n    this.setState({strips:newStrips});\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}