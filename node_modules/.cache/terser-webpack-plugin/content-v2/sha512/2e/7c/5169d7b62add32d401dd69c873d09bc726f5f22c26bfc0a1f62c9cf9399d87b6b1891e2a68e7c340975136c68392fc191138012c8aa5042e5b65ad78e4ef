{"map":"{\"version\":3,\"sources\":[\"/workspace/cartoon-curator/master/node_modules/file-loader/dist/cjs.js??ref--6-oneOf-7!/workspace/cartoon-curator/master/src/logo.svg\",\"/workspace/cartoon-curator/master/src/App.js\",\"/workspace/cartoon-curator/master/src/index.js\"],\"names\":[\"module\",\"exports\",\"__webpack_require__\",\"p\",\"App\",\"react_default\",\"a\",\"createElement\",\"App_Newspaper\",\"Component\",\"Newspaper\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"search\",\"URLSearchParams\",\"window\",\"location\",\"state\",\"date\",\"Date\",\"get\",\"parseInt\",\"comics\",\"id\",\"name\",\"moment\",\"format\",\"document\",\"title\",\"newComics\",\"map\",\"comic\",\"objectSpread\",\"_this2\",\"Fragment\",\"onClick\",\"addDays\",\"className\",\"i\",\"index\",\"App_Comic\",\"remove\",\"popComic\",\"setDate\",\"path\",\"key\",\"type\",\"addComic\",\"value\",\"setState\",\"concat\",\"toConsumableArray\",\"newThing\",\"replace\",\"list\",\"ret\",\"splice\",\"numDays\",\"newDate\",\"getDate\",\"applyDate\",\"history\",\"pushState\",\"Comic\",\"_this3\",\"strips\",\"shown\",\"getPath\",\"findUrl\",\"_this4\",\"console\",\"log\",\"thisComic\",\"url\",\"previous\",\"ref\",\"style\",\"display\",\"src\",\"next\",\"App_ComicChoice\",\"updateValue\",\"val\",\"Math\",\"random\",\"keys\",\"includes\",\"fetch\",\"json\",\"error\",\"order\",\"oldKeys\",\"filter\",\"length\",\"arguments\",\"undefined\",\"ComicChoice\",\"_this5\",\"Select\",\"findStrips\",\"_this6\",\"onChange\",\"event\",\"target\",\"newStrips\",\"_i2\",\"_Object$keys\",\"ReactDOM\",\"render\",\"src_App_0\",\"getElementById\"],\"mappings\":\"qIAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,4OCKlCC,0LAEF,OAAOC,EAAAC,EAAAC,cAACC,EAAD,aAFOC,EAAAA,YAMZC,cACN,SAAAA,EAAYC,GAAM,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,GACdE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,IACN,IAAIQ,EAAO,IAAIC,gBAAgBC,OAAOC,SAASH,QAC/CP,EAAKW,MAAM,CAACC,KAA6B,IAAxBH,OAAOC,SAASH,OAAW,IAAIM,KAAO,IAAIA,KAAKN,EAAOO,IAAI,QAAQ,IAAIP,EAAOO,IAAI,SAAS,KAAKC,SAASR,EAAOO,IAAI,QAAQ,IAAIE,OAAO,CAAC,CAACC,GAAG,oBAAoBC,KAAK,uBACzL,CAACD,GAAG,mBAAmBC,KAAK,oBAC5B,CAACD,GAAG,MAAMC,KAAK,OACf,CAACD,GAAG,kBAAkBC,KAAK,qBAC3B,CAACD,GAAG,UAAUC,KAAK,WACnB,CAACD,GAAG,UAAUC,KAAK,WACnB,CAACD,GAAG,WAAWC,KAAK,cAClB,IAAIN,EAAKO,GAAAA,CAAOnB,EAAKW,MAAMC,MAAMQ,OAAO,cACxCC,SAASC,MAAMH,GAAAA,CAAOnB,EAAKW,MAAMC,MAAMQ,OAAO,kBAC9C,IAAIG,EAAUvB,EAAKW,MAAMK,OAAOQ,IAAI,SAAAC,GAAK,OAAAxB,OAAAyB,EAAA,EAAAzB,CAAA,GAAOwB,EAAP,CAAab,KAAAA,MAZtC,OAahBZ,EAAKW,MAAMK,OAAOO,EAbFvB,wEAeP,IAAA2B,EAAAxB,KAEP,OACEV,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkC,SAAA,KACAnC,EAAAC,EAAAC,cAAA,SAAA,CAAQkC,QAAS,WAAA,OAAIF,EAAKG,SAAS,IAAIC,UAAU,cAAjD,KACAtC,EAAAC,EAAAC,cAAA,SAAA,CAAQkC,QAAS,WAAA,OAAIF,EAAKG,QAAQ,IAAIC,UAAU,mBAAhD,KACAtC,EAAAC,EAAAC,cAAA,MAAA,CAAKoC,UAAU,OACZ5B,KAAKQ,MAAMK,OAAOQ,IAAI,SAACQ,EAAEC,GAAH,OAAWxC,EAAAC,EAAAC,cAACuC,EAAD,CAAOC,OAAQ,WAAA,OAAIR,EAAKS,SAASH,IAAQI,QAAS,SAAAC,GAAI,OAAEX,EAAKU,QAAQJ,EAAMK,IAAOC,IAAKP,EAAEf,GAAIL,KAAMoB,EAAEpB,KAAMK,GAAIe,EAAEf,GAAIC,KAAMc,EAAEd,SAC/JzB,EAAAC,EAAAC,cAAA,MAAA,CAAKoC,UAAU,mBACftC,EAAAC,EAAAC,cAAA,QAAA,CAAO6C,KAAK,SAASX,QAAS,WAAA,OAAIF,EAAKc,YAAYV,UAAU,OAAOW,MAAM,4CAO9EvC,KAAKwC,SAAS,CAAC3B,OAAM,GAAA4B,OAAA3C,OAAA4C,EAAA,EAAA5C,CAAKE,KAAKQ,MAAMK,QAAhB,CAAuB,CAACC,GAAG,GAAGC,KAAK,GAAGN,KAAKO,GAAAA,CAAOhB,KAAKQ,MAAMC,MAAMQ,OAAO,mDAEzFH,EAAGqB,GAET,IAAIf,EAAUtB,OAAA4C,EAAA,EAAA5C,CAAIE,KAAKQ,MAAMK,QACzB8B,EAAS7C,OAAAyB,EAAA,EAAAzB,CAAA,GAAIsB,EAAUN,IAC3B6B,EAASlC,KAAK0B,EAAKS,QAAQ,mBAAmB,MAC9CxB,EAAUN,GAAI6B,EACd3C,KAAKwC,SAAS,CAAC3B,OAAOO,qCAEfU,GACP,IAAIe,EAAK/C,OAAA4C,EAAA,EAAA5C,CAAIE,KAAKQ,MAAMK,QACpBiC,EAAID,EAAKE,OAAOjB,EAAM,GAE1B,OADA9B,KAAKwC,SAAS,CAAC3B,OAAOgC,IACfC,kCAEDE,GACN,IAAIC,EAAQ,IAAIvC,KAAKV,KAAKQ,MAAMC,MAChCwC,EAAQf,QAAQlC,KAAKQ,MAAMC,KAAKyC,UAAUF,GAC1ChD,KAAKQ,MAAMC,KAAKwC,EAChBjD,KAAKmD,UAAUnC,GAAAA,CAAOiC,GAAShC,OAAO,iDAE9BR,GACR,IAAIW,EAAUpB,KAAKQ,MAAMK,OAAOQ,IAAI,SAAAC,GAAK,OAAAxB,OAAAyB,EAAA,EAAAzB,CAAA,GAAOwB,EAAP,CAAab,KAAAA,MACtDS,SAASC,MAAMH,GAAAA,CAAOP,GAAMQ,OAAO,kBACnCX,OAAO8C,QAAQC,UAAU5C,EAAMO,GAAAA,CAAOP,GAAMQ,OAAO,kBAAmBD,GAAAA,CAAOP,GAAMQ,OAAO,qCAC1FjB,KAAKwC,SAAS,CAAC3B,OAAOO,WA1DF1B,EAAAA,WA8DlB4D,cACJ,SAAAA,EAAY1D,GAAM,IAAA2D,EAAA,OAAAzD,OAAAC,EAAA,EAAAD,CAAAE,KAAAsD,IAChBC,EAAAzD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwD,GAAAnD,KAAAH,KAAMJ,KACDa,KAAK8C,EAAK3D,MAAMa,KACrB8C,EAAK/C,MAAM,CAAC2B,KAAK,GAAGqB,OAAO,GAAGC,OAAM,EAAK3C,GAAGyC,EAAK3D,MAAMkB,GAAGC,KAAKwC,EAAK3D,MAAMmB,MACvEwC,EAAK/C,MAAMM,KACZyC,EAAK/C,MAAM2B,KAAKoB,EAAKG,UACrBH,EAAKI,QAAQJ,EAAK/C,MAAM2B,OANVoB,wEASV,IAAAK,EAAA5D,KACNA,KAAKS,KAAKT,KAAKJ,MAAMa,KAErBT,KAAKQ,MAAM2B,KAAKnC,KAAK0D,UACrBG,QAAQC,IAAI9D,KAAKQ,MAAM2B,MAEvB,IAAI4B,EAAU/D,KAAKQ,MAAMgD,OAAOxD,KAAKQ,MAAM2B,OAAO,GAIlD,OADAnC,KAAK2D,QAAQ3D,KAAKQ,MAAM2B,MACC,KAAlBnC,KAAKQ,MAAM2B,MAAWnC,KAAKQ,MAAMM,GAEtCiD,EAAUC,IAAI1E,EAAAC,EAAAC,cAAA,MAAA,CAAKoC,UAAU,mBAC3BtC,EAAAC,EAAAC,cAAA,KAAA,KAAKQ,KAAKQ,MAAMO,MAChBzB,EAAAC,EAAAC,cAAA,IAAA,KAAIQ,KAAKQ,MAAM2B,KAAKS,QAAQ,oBAAoB,OAChDtD,EAAAC,EAAAC,cAAA,OAAA,CAAMkC,QAAS1B,KAAKJ,MAAMoC,QAA1B,UACA1C,EAAAC,EAAAC,cAAA,OAAA,CAAMoC,UAAU,SAChBtC,EAAAC,EAAAC,cAAA,QAAA,CAAO6C,KAAK,SAASX,QAAS,WAAA,OAAIkC,EAAKD,QAAQI,EAAUE,WAAW1B,MAAM,SAAIX,UAAU,UACxFtC,EAAAC,EAAAC,cAAA,MAAA,CAAK0E,IAAI,OAAOC,MAAO,CAACC,QAAQ,QAASC,KAAMrE,KAAKQ,MAAMgD,OAAOO,EAAUE,WAAW,IAAID,IAAKtC,QAAS,WAAA,OAAIkC,EAAKD,QAAQI,EAAUE,aACnI3E,EAAAC,EAAAC,cAAA,OAAA,KACAF,EAAAC,EAAAC,cAAA,MAAA,CAAK0E,IAAI,OAAOG,IAAKN,EAAUC,IAAKtC,QAAS,WAAA,OAAIkC,EAAKD,QAAQI,EAAUE,cAExE3E,EAAAC,EAAAC,cAAA,MAAA,CAAK0E,IAAI,OAAOC,MAAO,CAACC,QAAQ,QAASC,KAAMrE,KAAKQ,MAAMgD,OAAOO,EAAUO,OAAO,IAAIN,IAAKtC,QAAS,WAAA,OAAIkC,EAAKD,QAAQI,EAAUE,aAC/H3E,EAAAC,EAAAC,cAAA,QAAA,CAAO6C,KAAK,SAASX,QAAS,WAAA,OAAIkC,EAAKD,QAAQI,EAAUO,OAAO/B,MAAM,SAAIX,UAAU,YAE/E,KAEPtC,EAAAC,EAAAC,cAAA,MAAA,CAAKoC,UAAU,mBACftC,EAAAC,EAAAC,cAAC+E,EAAD,CAAaC,YAAa,SAACC,GAAOb,EAAKpD,MAAMM,GAAG2D,EAAI3D,GAAG8C,EAAKpD,MAAMO,KAAK0D,EAAI1D,KAAK6C,EAAKpD,MAAM2B,KAAKyB,EAAKF,UAAUE,EAAKD,sFAU1GxB,8FAEZA,EAAKA,GAAMnC,KAAK0D,UACDF,EAAO,GACtBK,QAAQC,IAAI,UAAU3B,GACduC,KAAKC,SACT7E,OAAO8E,KAAK5E,KAAKQ,MAAMgD,QAAQqB,SAAS1C,2BACtC6B,sDAAiD7B,GACrD0B,QAAQC,IAAI,SAASE,YACNc,MAAMd,iBAAjBe,SACJlB,QAAQC,IAAI,0BACDiB,EAAKA,kBAAhBA,SACAlB,QAAQC,IAAI,YACTiB,EAAKC,gDAAcnB,QAAQC,IAAIE,EAAI,mBACtCD,EAAUgB,EACVlB,QAAQC,IAAIiB,2BAGZlB,QAAQC,IAAI,SAAS3B,GACrB4B,EAAU/D,KAAKQ,MAAMgD,OAAOrB,WAI9BqB,EAAOrB,GAAM4B,EACV/D,KAAKQ,MAAM2B,OAAOA,GACnBnC,KAAKJ,MAAMsC,QAAQC,SAGJ,CAAC,WAAW,qDAArB8C,OACFjF,KAAKQ,MAAMgD,OAAOO,EAAUkB,MAASlB,EAAUkB,IAA2B,KAAnBlB,EAAUkB,2BAE/DjB,sDAAiDD,EAAUkB,cAEhDH,MAAMd,kBAAjBe,6BACWA,EAAKA,eAAhBA,mGAEJvB,EAAOO,EAAUkB,IAAQF,0BAGzBvB,EAAOO,EAAUkB,IAAQjF,KAAKQ,MAAMgD,OAAOO,EAAUkB,wCAIrDC,EAAQpF,OAAO8E,KAAK5E,KAAKQ,MAAMgD,QAChC1D,OAAO8E,KAAKpB,GAAQ2B,OAAO,SAAAtD,GAAC,OAAGqD,EAAQL,SAAShD,KAAIuD,OAAO,GAC9DpF,KAAKwC,SAAS,CAACgB,OAAAA,oJAEM,IAAf/C,EAAe4E,UAAAD,OAAA,QAAAE,IAAAD,UAAA,GAAAA,UAAA,GAAVrF,KAAKS,KAEhB,OADAoD,QAAQC,IAAI9D,KAAKS,MACjB,IAAAgC,OAAWzC,KAAKQ,MAAMM,GAAtB,KAAA2B,OAA4BhC,UAjGZf,EAAAA,WAqGd6F,cACJ,SAAAA,EAAY3F,GAAO,IAAA4F,EAAA,OAAA1F,OAAAC,EAAA,EAAAD,CAAAE,KAAAuF,IACjBC,EAAA1F,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyF,GAAApF,KAAAH,KAAMJ,KACDY,MAAM,CAACgD,OAAO,CAACiC,OAAS,KAC7BD,EAAKE,aAHYF,wEAKX,IAAAG,EAAA3F,KACN,OAAOV,EAAAC,EAAAC,cAAA,SAAA,CAAQoC,UAAU,eAAegE,SAAU,SAAAC,GAAK,OAAEF,EAAK/F,MAAM4E,YAAY,CAACzD,KAAK8E,EAAMC,OAAOvD,MAAMzB,GAAG6E,EAAKnF,MAAMgD,OAAOqC,EAAMC,OAAOvD,WAC1IzC,OAAO8E,KAAK5E,KAAKQ,MAAMgD,QAAQnC,IAAI,SAAAQ,GAAC,OAAEvC,EAAAC,EAAAC,cAAA,SAAA,CAAQ+C,MAAOV,GAAIA,iLAIzCiD,MAAM,4DAAnBtB,kBACSA,EAAOuB,cAEpB,IAFAvB,SACIuC,EAAU,CAACN,OAAS,IACxBO,EAAA,EAAAC,EAAenG,OAAO8E,KAAKpB,GAA3BwC,EAAAC,EAAAb,OAAAY,IAAQ5D,EAA2B6D,EAAAD,GACjCD,EAAUjG,OAAAyB,EAAA,EAAAzB,CAAA,GAAIiG,EAAavC,EAAOpB,IAEpCpC,KAAKwC,SAAS,CAACgB,OAAOuC,6GAlBArG,EAAAA,WAsBXL,EAAAA,EC/Lf6G,EAAAA,EAASC,OAAO7G,EAAAC,EAAAC,cAAC4G,EAAD,MAASlF,SAASmF,eAAe\",\"sourcesContent\":[\"module.exports = __webpack_public_path__ + \\\"static/media/logo.5d5d9eef.svg\\\";\",\"import React, { Component } from 'react';\\nimport logo from './logo.svg';\\nimport moment from \\\"moment\\\";\\nimport './App.css';\\n\\nclass App extends Component {\\n  render(){\\n    return <Newspaper/>;\\n  }\\n}\\n\\nclass Newspaper extends Component {\\nconstructor(props){\\n    super(props);\\n    let search=new URLSearchParams(window.location.search);\\n    this.state={date:window.location.search==\\\"\\\"?new Date():new Date(search.get(\\\"year\\\")+\\\"-\\\"+search.get(\\\"month\\\")+\\\"-\\\"+(parseInt(search.get(\\\"day\\\"))+1)),comics:[{id:\\\"pearlsbeforeswine\\\",name:\\\"Pearls Before Swine\\\"},\\n{id:\\\"dilbert-classics\\\",name:\\\"Dilbert Classics\\\"},\\n{id:\\\"lio\\\",name:\\\"Lio\\\"},\\n{id:\\\"calvinandhobbes\\\",name:\\\"Calvin and Hobbes\\\"},\\n{id:\\\"foxtrot\\\",name:\\\"Foxtrot\\\"},\\n{id:\\\"dilbert\\\",name:\\\"Dilbert\\\"},\\n{id:\\\"garfield\\\",name:\\\"Garfield\\\"},]};\\n  let date=moment(this.state.date).format(\\\"YYYY/MM/DD\\\");\\n  document.title=moment(this.state.date).format(\\\"MMMM D[, ]YYYY\\\");\\n  let newComics=this.state.comics.map(comic=>({...comic,date}));\\n  this.state.comics=newComics;\\n  }\\n  render() {\\n    //console.log(this.state.comics);\\n    return (\\n      <>\\n      <button onClick={()=>this.addDays(-1)} className=\\\"changeDate\\\">&lt;</button>\\n      <button onClick={()=>this.addDays(1)} className=\\\"changeDate next\\\">&gt;</button>\\n      <div className=\\\"App\\\">\\n        {this.state.comics.map((i,index)=><Comic remove={()=>this.popComic(index)} setDate={path=>this.setDate(index,path)} key={i.id} date={i.date} id={i.id} name={i.name}/>)}\\n        <div className=\\\"input-container\\\">\\n        <input type=\\\"button\\\" onClick={()=>this.addComic()} className=\\\"plus\\\" value=\\\"+\\\"/>\\n        </div>\\n      </div>\\n      </>\\n    );\\n  }\\n  addComic(){\\n    this.setState({comics:[...this.state.comics,{id:\\\"\\\",name:\\\"\\\",date:moment(this.state.date).format(\\\"YYYY/MM/DD\\\")}]});\\n  }\\n  setDate(id,path){\\n    //console.log(\\\"Setting date!\\\",this.state.comics[id],id,path);\\n    let newComics=[...this.state.comics];\\n    let newThing={...newComics[id]};\\n    newThing.date=path.replace(/\\\\/[^\\\\/]*\\\\/(.*)$/g,\\\"$1\\\");\\n    newComics[id]=newThing;\\n    this.setState({comics:newComics});\\n  }\\n  popComic(index){\\n    let list=[...this.state.comics];\\n    let ret=list.splice(index,1);\\n    this.setState({comics:list});\\n    return ret;\\n  }\\n  addDays(numDays){\\n    let newDate=new Date(this.state.date);\\n    newDate.setDate(this.state.date.getDate()+numDays);\\n    this.state.date=newDate;\\n    this.applyDate(moment(newDate).format(\\\"YYYY/MM/DD\\\"));\\n  }\\n  applyDate(date){\\n    let newComics=this.state.comics.map(comic=>({...comic,date}));\\n    document.title=moment(date).format(\\\"MMMM D[, ]YYYY\\\");\\n    window.history.pushState(date, moment(date).format(\\\"MMMM D[,] YYYY\\\"), moment(date).format(\\\"[?year=]YYYY[&month=]MM[&day=]DD\\\"));\\n    this.setState({comics:newComics});\\n  }\\n}\\n\\nclass Comic extends Component{\\n  constructor(props){\\n    super(props);\\n    this.date=this.props.date;\\n    this.state={path:\\\"\\\",strips:{},shown:true,id:this.props.id,name:this.props.name};\\n    if(this.state.id) {\\n      this.state.path=this.getPath();\\n      this.findUrl(this.state.path);\\n    }\\n  }\\n  render(){\\n    this.date=this.props.date;\\n    //console.log(this.props.date,\\\"is date at render\\\");\\n    this.state.path=this.getPath();\\n    console.log(this.state.path);\\n    //console.log(\\\"now, path is\\\",this.state.path,this.date);\\n    let thisComic=this.state.strips[this.state.path]||{};\\n    //console.log(\\\"rendering in render\\\",this.state,\\\"thisComic at render\\\",thisComic);\\n    //if(!thisComic.url)\\n    this.findUrl(this.state.path);\\n    return this.state.path!==\\\"\\\"&&this.state.id?\\n    (\\n      thisComic.url?<div className=\\\"comic-container\\\">\\n        <h2>{this.state.name}</h2>\\n        <p>{this.state.path.replace(/^\\\\/[^\\\\/]+\\\\/(.*)$/g,\\\"$1\\\")}</p>\\n        <span onClick={this.props.remove}>❌</span>\\n        <span className=\\\"comic\\\">\\n        <input type=\\\"button\\\" onClick={()=>this.findUrl(thisComic.previous)} value=\\\"←\\\" className=\\\"arrow\\\"/>\\n        <img ref=\\\"next\\\" style={{display:\\\"none\\\"}} src={(this.state.strips[thisComic.previous]||{}).url} onClick={()=>this.findUrl(thisComic.previous)}/>\\n        <span>\\n        <img ref=\\\"this\\\" src={thisComic.url} onClick={()=>this.findUrl(thisComic.previous)}/>\\n        </span>\\n        <img ref=\\\"last\\\" style={{display:\\\"none\\\"}} src={(this.state.strips[thisComic.next]||{}).url} onClick={()=>this.findUrl(thisComic.previous)}/>\\n        <input type=\\\"button\\\" onClick={()=>this.findUrl(thisComic.next)} value=\\\"→\\\" className=\\\"arrow\\\"/>\\n        </span>\\n      </div>:null\\n    ):(\\n      <div className=\\\"input-container\\\">\\n      <ComicChoice updateValue={(val)=>{this.state.id=val.id;this.state.name=val.name;this.state.path=this.getPath();this.findUrl();}}/>\\n      </div>\\n    );\\n    /*\\n    Old:\\n\\n        <input type=\\\"text\\\" onChange={event=>{this.state.name=event.target.value;if(this.state.id)this.findUrl();}} placeholder=\\\"Name\\\"/>\\n        <input type=\\\"text\\\" onChange={event=>{this.state.id=event.target.value;this.state.path=this.getPath();this.findUrl();}} placeholder=\\\"Comic ID\\\"/>\\n    */\\n  }\\n  async findUrl(path){\\n    //console.log(\\\"running findUrl\\\");\\n    path=path||this.getPath();\\n    let thisComic, strips={};\\n    console.log(\\\"Finding\\\",path);\\n    let num=Math.random();\\n    if(!Object.keys(this.state.strips).includes(path)){\\n      let url=`https://Comic-Strip-API.426729.repl.co/api${path}`;\\n      console.log(\\\"trying\\\",url);\\n      let json=await fetch(url);\\n      console.log(\\\"Got response\\\");\\n      json=await json.json();\\n      console.log(\\\"Awaited\\\");\\n      if(json.error) return console.log(url,\\\"failed\\\");\\n      thisComic=json;\\n      console.log(json);\\n    }\\n    else {\\n      console.log(\\\"Cached\\\",path);\\n      thisComic=this.state.strips[path];\\n      //console.log(\\\"thisComic \\\",thisComic);\\n    }\\n    ////console.log(\\\"thisComic\\\",thisComic);\\n    strips[path]=thisComic;\\n    if(this.state.path!==path) {\\n      this.props.setDate(path);\\n    }\\n    // this.setState({path});\\n    for(let order of [\\\"previous\\\",\\\"next\\\"]){\\n      if(!this.state.strips[thisComic[order]]&&thisComic[order]&&thisComic[order]!==\\\"\\\") {\\n        //console.log(\\\"Not working path\\\",thisComic[order]);\\n        let url=`https://Comic-Strip-API.426729.repl.co/api${thisComic[order]}`;\\n        //console.log(url);\\n        let json=await fetch(url);\\n        try{json=await json.json();} catch(err){continue;}\\n        //console.log(\\\"Adding the cache for\\\",thisComic[order],json.url)\\n        strips[thisComic[order]]=json;\\n      }\\n      else {\\n        strips[thisComic[order]]=this.state.strips[thisComic[order]];\\n      }\\n    }\\n    //console.log(\\\"Strips\\\")\\n    let oldKeys=Object.keys(this.state.strips);\\n    if(Object.keys(strips).filter(i=>!oldKeys.includes(i)).length>0){\\n    this.setState({strips});}\\n  }\\n  getPath(date=this.date){\\n    console.log(this.date);\\n    return `/${this.state.id}/${date}`;\\n  }\\n}\\n\\nclass ComicChoice extends Component{\\n  constructor(props) {\\n    super(props);\\n    this.state={strips:{\\\"Select\\\":\\\"\\\"}};\\n    this.findStrips();\\n  }\\n  render(){\\n    return <select className=\\\"comic-choice\\\" onChange={event=>this.props.updateValue({name:event.target.value,id:this.state.strips[event.target.value]})}>\\n    {Object.keys(this.state.strips).map(i=><option value={i}>{i}</option>)}\\n    </select>;\\n  }\\n  async findStrips(){\\n    let strips=await fetch(\\\"https://comic-strip-api.426729.repl.co/ids\\\");\\n    strips=await strips.json();\\n    let newStrips={\\\"Select\\\":\\\"\\\"};\\n    for(let key of Object.keys(strips)){\\n      newStrips={...newStrips,...strips[key]};\\n    }\\n    this.setState({strips:newStrips});\\n  }\\n}\\n\\nexport default App;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,a){t.exports=a(25)},19:function(t,e,a){},22:function(t,e,a){t.exports=a.p+\"static/media/logo.5d5d9eef.svg\"},24:function(t,e,a){},25:function(t,e,a){\"use strict\";a.r(e);var n=a(0),s=a.n(n),r=a(12),i=a.n(r),c=(a(19),a(2)),o=a.n(c),l=a(10),u=a(9),p=a(7),h=a(3),m=a(4),d=a(6),f=a(5),b=a(8),v=(a(22),a(1)),y=a.n(v),g=(a(24),function(t){function e(){return Object(h.a)(this,e),Object(d.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(m.a)(e,[{key:\"render\",value:function(){return s.a.createElement(k,null)}}]),e}(n.Component)),k=function(t){function e(t){var a;Object(h.a)(this,e),a=Object(d.a)(this,Object(f.a)(e).call(this,t));var n=new URLSearchParams(window.location.search);a.state={date:\"\"==window.location.search?new Date:new Date(n.get(\"year\")+\"-\"+n.get(\"month\")+\"-\"+(parseInt(n.get(\"day\"))+1)),comics:[{id:\"pearlsbeforeswine\",name:\"Pearls Before Swine\"},{id:\"dilbert-classics\",name:\"Dilbert Classics\"},{id:\"lio\",name:\"Lio\"},{id:\"calvinandhobbes\",name:\"Calvin and Hobbes\"},{id:\"foxtrot\",name:\"Foxtrot\"},{id:\"dilbert\",name:\"Dilbert\"},{id:\"garfield\",name:\"Garfield\"}]};var s=y()(a.state.date).format(\"YYYY/MM/DD\");document.title=y()(a.state.date).format(\"MMMM D[, ]YYYY\");var r=a.state.comics.map(function(t){return Object(p.a)({},t,{date:s})});return a.state.comics=r,a}return Object(b.a)(e,t),Object(m.a)(e,[{key:\"render\",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(\"button\",{onClick:function(){return t.addDays(-1)},className:\"changeDate\"},\"<\"),s.a.createElement(\"button\",{onClick:function(){return t.addDays(1)},className:\"changeDate next\"},\">\"),s.a.createElement(\"div\",{className:\"App\"},this.state.comics.map(function(e,a){return s.a.createElement(j,{remove:function(){return t.popComic(a)},setDate:function(e){return t.setDate(a,e)},key:e.id,date:e.date,id:e.id,name:e.name})}),s.a.createElement(\"div\",{className:\"input-container\"},s.a.createElement(\"input\",{type:\"button\",onClick:function(){return t.addComic()},className:\"plus\",value:\"+\"}))))}},{key:\"addComic\",value:function(){this.setState({comics:[].concat(Object(u.a)(this.state.comics),[{id:\"\",name:\"\",date:y()(this.state.date).format(\"YYYY/MM/DD\")}])})}},{key:\"setDate\",value:function(t,e){var a=Object(u.a)(this.state.comics),n=Object(p.a)({},a[t]);n.date=e.replace(/\\/[^\\/]*\\/(.*)$/g,\"$1\"),a[t]=n,this.setState({comics:a})}},{key:\"popComic\",value:function(t){var e=Object(u.a)(this.state.comics),a=e.splice(t,1);return this.setState({comics:e}),a}},{key:\"addDays\",value:function(t){var e=new Date(this.state.date);e.setDate(this.state.date.getDate()+t),this.state.date=e,this.applyDate(y()(e).format(\"YYYY/MM/DD\"))}},{key:\"applyDate\",value:function(t){var e=this.state.comics.map(function(e){return Object(p.a)({},e,{date:t})});document.title=y()(t).format(\"MMMM D[, ]YYYY\"),window.history.pushState(t,y()(t).format(\"MMMM D[,] YYYY\"),y()(t).format(\"[?year=]YYYY[&month=]MM[&day=]DD\")),this.setState({comics:e})}}]),e}(n.Component),j=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(d.a)(this,Object(f.a)(e).call(this,t))).date=a.props.date,a.state={path:\"\",strips:{},shown:!0,id:a.props.id,name:a.props.name},a.state.id&&(a.state.path=a.getPath(),a.findUrl(a.state.path)),a}return Object(b.a)(e,t),Object(m.a)(e,[{key:\"render\",value:function(){var t=this;this.date=this.props.date,this.state.path=this.getPath(),console.log(this.state.path);var e=this.state.strips[this.state.path]||{};return this.findUrl(this.state.path),\"\"!==this.state.path&&this.state.id?e.url?s.a.createElement(\"div\",{className:\"comic-container\"},s.a.createElement(\"h2\",null,this.state.name),s.a.createElement(\"p\",null,this.state.path.replace(/^\\/[^\\/]+\\/(.*)$/g,\"$1\")),s.a.createElement(\"span\",{onClick:this.props.remove},\"\\u274c\"),s.a.createElement(\"span\",{className:\"comic\"},s.a.createElement(\"input\",{type:\"button\",onClick:function(){return t.findUrl(e.previous)},value:\"\\u2190\",className:\"arrow\"}),s.a.createElement(\"img\",{ref:\"next\",style:{display:\"none\"},src:(this.state.strips[e.previous]||{}).url,onClick:function(){return t.findUrl(e.previous)}}),s.a.createElement(\"span\",null,s.a.createElement(\"img\",{ref:\"this\",src:e.url,onClick:function(){return t.findUrl(e.previous)}})),s.a.createElement(\"img\",{ref:\"last\",style:{display:\"none\"},src:(this.state.strips[e.next]||{}).url,onClick:function(){return t.findUrl(e.previous)}}),s.a.createElement(\"input\",{type:\"button\",onClick:function(){return t.findUrl(e.next)},value:\"\\u2192\",className:\"arrow\"}))):null:s.a.createElement(\"div\",{className:\"input-container\"},s.a.createElement(O,{updateValue:function(e){t.state.id=e.id,t.state.name=e.name,t.state.path=t.getPath(),t.findUrl()}}))}},{key:\"findUrl\",value:function(){var t=Object(l.a)(o.a.mark(function t(e){var a,n,s,r,i,c,l,u,p,h;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e||this.getPath(),n={},console.log(\"Finding\",e),Math.random(),Object.keys(this.state.strips).includes(e)){t.next=21;break}return s=\"https://Comic-Strip-API.426729.repl.co/api\".concat(e),console.log(\"trying\",s),t.next=9,fetch(s);case 9:return r=t.sent,console.log(\"Got response\"),t.next=13,r.json();case 13:if(r=t.sent,console.log(\"Awaited\"),!r.error){t.next=17;break}return t.abrupt(\"return\",console.log(s,\"failed\"));case 17:a=r,console.log(r),t.next=23;break;case 21:console.log(\"Cached\",e),a=this.state.strips[e];case 23:n[e]=a,this.state.path!==e&&this.props.setDate(e),i=0,c=[\"previous\",\"next\"];case 26:if(!(i<c.length)){t.next=49;break}if(l=c[i],this.state.strips[a[l]]||!a[l]||\"\"===a[l]){t.next=45;break}return u=\"https://Comic-Strip-API.426729.repl.co/api\".concat(a[l]),t.next=32,fetch(u);case 32:return p=t.sent,t.prev=33,t.next=36,p.json();case 36:p=t.sent,t.next=42;break;case 39:return t.prev=39,t.t0=t.catch(33),t.abrupt(\"continue\",46);case 42:n[a[l]]=p,t.next=46;break;case 45:n[a[l]]=this.state.strips[a[l]];case 46:i++,t.next=26;break;case 49:h=Object.keys(this.state.strips),Object.keys(n).filter(function(t){return!h.includes(t)}).length>0&&this.setState({strips:n});case 51:case\"end\":return t.stop()}},t,this,[[33,39]])}));return function(e){return t.apply(this,arguments)}}()},{key:\"getPath\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.date;return console.log(this.date),\"/\".concat(this.state.id,\"/\").concat(t)}}]),e}(n.Component),O=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(d.a)(this,Object(f.a)(e).call(this,t))).state={strips:{Select:\"\"}},a.findStrips(),a}return Object(b.a)(e,t),Object(m.a)(e,[{key:\"render\",value:function(){var t=this;return s.a.createElement(\"select\",{className:\"comic-choice\",onChange:function(e){return t.props.updateValue({name:e.target.value,id:t.state.strips[e.target.value]})}},Object.keys(this.state.strips).map(function(t){return s.a.createElement(\"option\",{value:t},t)}))}},{key:\"findStrips\",value:function(){var t=Object(l.a)(o.a.mark(function t(){var e,a,n,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"https://comic-strip-api.426729.repl.co/ids\");case 2:return e=t.sent,t.next=5,e.json();case 5:for(e=t.sent,a={Select:\"\"},n=0,s=Object.keys(e);n<s.length;n++)r=s[n],a=Object(p.a)({},a,e[r]);this.setState({strips:a});case 9:case\"end\":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(n.Component),D=g;i.a.render(s.a.createElement(D,null),document.getElementById(\"root\"))}},[[13,1,2]]]);","extractedComments":[]}