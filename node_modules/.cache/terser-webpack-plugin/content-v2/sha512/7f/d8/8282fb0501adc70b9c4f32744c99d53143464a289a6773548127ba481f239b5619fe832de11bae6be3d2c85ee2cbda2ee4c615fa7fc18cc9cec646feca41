{"map":"{\"version\":3,\"sources\":[\"/workspace/cartoon-curator/src/App.js\",\"/workspace/cartoon-curator/src/index.js\"],\"names\":[\"API_URL\",\"dateFromPath\",\"path\",\"replace\",\"App\",\"react_default\",\"a\",\"createElement\",\"App_Newspaper\",\"Component\",\"Newspaper\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"search\",\"URLSearchParams\",\"window\",\"location\",\"url\",\"state\",\"date\",\"reduce\",\"last\",\"next\",\"get\",\"Date\",\"parseInt\",\"comics\",\"getAll\",\"length\",\"id\",\"name\",\"map\",\"i\",\"moment\",\"format\",\"document\",\"title\",\"newComics\",\"comic\",\"objectSpread\",\"_this2\",\"Fragment\",\"className\",\"onClick\",\"addDays\",\"index\",\"App_Comic\",\"updateVals\",\"newVal\",\"updateValue\",\"remove\",\"popComic\",\"setDate\",\"key\",\"type\",\"addComic\",\"value\",\"setState\",\"concat\",\"toConsumableArray\",\"assign\",\"setURL\",\"console\",\"log\",\"newThing\",\"list\",\"ret\",\"splice\",\"numDays\",\"newDate\",\"getDate\",\"applyDate\",\"str\",\"undefined\",\"arguments\",\"mom\",\"delete\",\"_iteratorNormalCompletion\",\"_didIteratorError\",\"_iteratorError\",\"_step\",\"_iterator\",\"Symbol\",\"iterator\",\"done\",\"append\",\"err\",\"return\",\"set\",\"history\",\"pushState\",\"toString\",\"Comic\",\"_this3\",\"strips\",\"shown\",\"getPath\",\"findUrl\",\"_this4\",\"thisComic\",\"role\",\"aria-label\",\"previous\",\"ref\",\"alt\",\"style\",\"display\",\"src\",\"App_ComicChoice\",\"val\",\"keys\",\"includes\",\"fetch\",\"json\",\"error\",\"order\",\"oldKeys\",\"filter\",\"newProps\",\"oldState\",\"ComicChoice\",\"_this5\",\"Select\",\"findStrips\",\"_this6\",\"onChange\",\"event\",\"target\",\"newStrips\",\"_i2\",\"_Object$keys\",\"ReactDOM\",\"render\",\"src_App_0\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { Component } from 'react';\\nimport moment from \\\"moment\\\";\\nimport './App.css';\\nimport 'url-search-params-polyfill';\\n/*import 'core-js';*/\\n// import 'core-js/features/promise';\\nimport 'core-js/features/array/includes';\\nimport 'core-js/web/url-search-params';\\nimport 'whatwg-fetch';\\n\\nconst API_URL=\\\"https://Comic-Strip-API.426729.repl.co/api\\\";\\n\\nfunction dateFromPath(path){\\n    return path.replace(/\\\\/[^/]*\\\\/(.*)$/g,\\\"$1\\\");\\n}\\n\\nclass App extends Component {\\n  render(){\\n    return <Newspaper/>;\\n  }\\n}\\n\\nclass Newspaper extends Component {\\nconstructor(props){\\n    super(props);\\n    let search=new URLSearchParams(window.location.search);\\n    this.url=search;\\n    this.state={date:[\\\"year\\\",\\\"month\\\",\\\"day\\\"].reduce((last,next)=>last||!search.get(next),false)?new Date():new Date(search.get(\\\"year\\\")+\\\"-\\\"+search.get(\\\"month\\\")+\\\"-\\\"+(parseInt(search.get(\\\"day\\\"))+1)),comics:[]};\\n  let comics=search.getAll(\\\"comic\\\");\\n  if(comics.length===0) this.state.comics=[{id:\\\"pearlsbeforeswine\\\",name:\\\"Pearls Before Swine\\\"},\\n{id:\\\"dilbert-classics\\\",name:\\\"Dilbert Classics\\\"},\\n{id:\\\"lio\\\",name:\\\"Lio\\\"},\\n{id:\\\"calvinandhobbes\\\",name:\\\"Calvin and Hobbes\\\"},\\n{id:\\\"foxtrot\\\",name:\\\"Foxtrot\\\"},\\n{id:\\\"dilbert\\\",name:\\\"Dilbert\\\"},\\n{id:\\\"garfield\\\",name:\\\"Garfield\\\"},];\\n  else this.state.comics=comics.map(i=>({id:i}));\\n  let date=moment(this.state.date).format(\\\"YYYY/MM/DD\\\");\\n  document.title=moment(this.state.date).format(\\\"MMMM D[, ]YYYY\\\");\\n  let newComics=this.state.comics.map(comic=>({...comic,date}));\\n  this.state.comics=newComics;\\n  }\\n  render() {\\n    //console.log(this.state.comics);\\n    return (\\n      <>\\n      <div className=\\\"navBar\\\">\\n        <button onClick={()=>this.addDays(-1)} className=\\\"changeDate\\\">&lt;</button>\\n        <h1 className=\\\"title\\\">Cartoon Curator</h1>\\n        <button onClick={()=>this.addDays(1)} className=\\\"changeDate next\\\">&gt;</button>\\n      </div>\\n      <div className=\\\"App\\\">\\n        {this.state.comics.map((i,index)=><Comic updateVals={newVal=>this.updateValue(index,newVal)} remove={()=>this.popComic(index)} setDate={path=>this.setDate(index,path)} key={i.id} date={i.date} id={i.id} name={i.name}/>)}\\n        <div className=\\\"input-container\\\">\\n          <input type=\\\"button\\\" onClick={()=>this.addComic()} className=\\\"plus\\\" value=\\\"+\\\"/>\\n        </div>\\n      </div>\\n      </>\\n    );\\n  }\\n  addComic(){\\n    this.setState({comics:[...this.state.comics,{id:\\\"\\\",name:\\\"\\\",date:moment(this.state.date).format(\\\"YYYY/MM/DD\\\")}]});\\n  }\\n  updateValue(index,value){\\n      let comics=[...this.state.comics];\\n      comics[index]=Object.assign({},comics[index],value);\\n      this.setURL(comics);\\n      this.setState({comics});\\n  }\\n  setDate(id,path){\\n    console.log(\\\"setDate\\\",path);\\n    let newComics=[...this.state.comics];\\n    let newThing={...newComics[id]};\\n    newThing.date=dateFromPath(path);\\n    newComics[id]=newThing;\\n    this.setState({comics:newComics});\\n  }\\n  popComic(index){\\n    let list=[...this.state.comics];\\n    let ret=list.splice(index,1);\\n    this.setState({comics:list});\\n    return ret;\\n  }\\n  addDays(numDays){\\n    let newDate=new Date(this.state.date);\\n    newDate.setDate(this.state.date.getDate()+numDays);\\n    // this.state.date=newDate;\\n    this.applyDate(newDate);\\n  }\\n  applyDate(date){\\n    let mom=moment(date);\\n    let str=mom.format(\\\"YYYY/MM/DD\\\");\\n    let newComics=this.state.comics.map(comic=>({...comic,date:str}));\\n    this.setURL(undefined,str);\\n    // window.history.pushState(date, moment(date).format(\\\"MMMM D[,] YYYY\\\"), this.url.toString()/*moment(date).format(\\\"[?year=]YYYY[&month=]MM[&day=]DD\\\")*/);\\n    this.setState({date,comics:newComics});\\n  }\\n  setURL(comics,date=this.state.date){\\n      let mom=moment(date);\\n    //   alert(this.url);\\n      if(comics){\\n          this.url.delete(\\\"comic\\\");\\n          for(let comic of comics){\\n            this.url.append(\\\"comic\\\",comic.id);\\n          }\\n      }\\n      if(date){\\n        this.url.set(\\\"year\\\",mom.format(\\\"YYYY\\\"));\\n        this.url.set(\\\"month\\\",mom.format(\\\"MM\\\"));\\n        this.url.set(\\\"day\\\",mom.format(\\\"DD\\\"));\\n      }\\n      window.history.pushState(date,moment(date).format(\\\"MMMM D[,] YYYY\\\"), '?'+this.url.toString());\\n  }\\n}\\n\\nclass Comic extends Component{\\n  constructor(props){\\n    super(props);\\n    // this.date=this.props.date;\\n    this.state={date:this.props.date,path:\\\"\\\",strips:{},shown:true,id:this.props.id,name:this.props.name};\\n    if(this.state.id) {\\n      this.state.path=this.getPath();\\n      this.findUrl(this.state.path);\\n    }\\n  }\\n  static getDerivedStateFromProps(newProps,oldState){\\n      console.log(\\\"At gds\\\",newProps.date);\\n      return newProps.date!==oldState.date?{date:newProps.date}:null;\\n  }\\n  render(){\\n    console.log(\\\"Woohoo, starting render and\\\",this.state.date);\\n    this.findUrl();\\n    let thisComic=this.state.strips[this.state.path]||{};\\n\\n    return this.state.path!==\\\"\\\"&&this.state.id?\\n    (\\n      thisComic.url?<div className=\\\"comic-container\\\">\\n        <h2>{this.state.name}</h2>\\n        <p>{dateFromPath(this.state.path)}</p>\\n        <span role=\\\"img\\\" aria-label=\\\"Delete\\\" onClick={this.props.remove}>❌</span>\\n        <span className=\\\"comic\\\">\\n        <input type=\\\"button\\\" onClick={()=>{console.log(thisComic.previous,\\\"bluh\\\");this.findUrl(thisComic.previous);}} value=\\\"←\\\" className=\\\"arrow\\\"/>\\n        <img ref=\\\"next\\\" alt=\\\"\\\" style={{display:\\\"none\\\"}} src={(this.state.strips[thisComic.previous]||{}).url}/>\\n        <span>\\n        <img ref=\\\"this\\\" alt={this.state.name||this.state.id+\\\" comic strip\\\"} src={thisComic.url} onClick={()=>this.findUrl(thisComic.previous)}/>\\n        </span>\\n        <img ref=\\\"last\\\" alt=\\\"\\\" style={{display:\\\"none\\\"}} src={(this.state.strips[thisComic.next]||{}).url}/>\\n        <input type=\\\"button\\\" onClick={()=>this.findUrl(thisComic.next)} value=\\\"→\\\" className=\\\"arrow\\\"/>\\n        </span>\\n      </div>:null\\n    ):(\\n      <div className=\\\"input-container\\\">\\n      <ComicChoice updateValue={(val)=>this.props.updateVals({id:val.id,name:val.name})}/>\\n      </div>\\n    );\\n  }\\n  async findUrl(path){\\n    path=path||this.getPath();\\n    let thisComic, strips={};\\n    if(!Object.keys(this.state.strips).includes(path)){\\n      let url=`${API_URL}${path}`;\\n      let json=await fetch(url);\\n      json=await json.json();\\n      if(json.error) return console.log(url,\\\"failed\\\");\\n      thisComic=json;\\n      console.log(json);\\n    }\\n    else {\\n      thisComic=this.state.strips[path];\\n      //console.log(\\\"thisComic \\\",thisComic);\\n    }\\n    ////console.log(\\\"thisComic\\\",thisComic);\\n    strips[path]=thisComic;\\n    if(this.state.path!==path) {\\n      console.log(this.state.path,path);\\n      this.setState({path});\\n    //   this.props.setDate(path);\\n    }\\n    // this.setState({path});\\n    for(let order of [\\\"previous\\\",\\\"next\\\"]){\\n      if(!this.state.strips[thisComic[order]]&&thisComic[order]&&thisComic[order]!==\\\"\\\") {\\n        //console.log(\\\"Not working path\\\",thisComic[order]);\\n        let url=`${API_URL}${thisComic[order]}`;\\n        //console.log(url);\\n        let json=await fetch(url);\\n        try{json=await json.json();} catch(err){continue;}\\n        //console.log(\\\"Adding the cache for\\\",thisComic[order],json.url)\\n        strips[thisComic[order]]=json;\\n      }\\n      else {\\n        strips[thisComic[order]]=this.state.strips[thisComic[order]];\\n      }\\n    }\\n    //console.log(\\\"Strips\\\")\\n    let oldKeys=Object.keys(this.state.strips);\\n    if(Object.keys(strips).filter(i=>!oldKeys.includes(i)).length>0){\\n        console.log(\\\"strips\\\");\\n        this.setState({strips});\\n    }\\n  }\\n  getPath(date=this.state.date){\\n    console.log(\\\"getPath\\\",this.state.date);\\n    return `/${this.state.id}/${date}`;\\n  }\\n}\\n\\nclass ComicChoice extends Component{\\n  constructor(props) {\\n    super(props);\\n    this.state={strips:{\\\"Select\\\":\\\"\\\"}};\\n    this.findStrips();\\n  }\\n  render(){\\n    return <select className=\\\"comic-choice\\\" onChange={event=>this.props.updateValue({name:event.target.value,id:this.state.strips[event.target.value]})}>\\n    {Object.keys(this.state.strips).map(i=><option key={i} value={i}>{i}</option>)}\\n    </select>;\\n  }\\n  async findStrips(){\\n    let strips=await fetch(`${API_URL}/ids`);\\n    strips=await strips.json();\\n    let newStrips={\\\"Select\\\":\\\"\\\"};\\n    for(let key of Object.keys(strips)){\\n      newStrips={...newStrips,...strips[key]};\\n    }\\n    this.setState({strips:newStrips});\\n  }\\n}\\n\\nexport default App;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{54:function(t,e,a){t.exports=a(99)},59:function(t,e,a){},63:function(t,e,a){},99:function(t,e,a){\"use strict\";a.r(e);var n=a(0),s=a.n(n),r=a(53),i=a.n(r),c=(a(59),a(10)),o=a.n(c),l=a(32),u=a(14),m=a(17),p=a(11),h=a(12),d=a(15),f=a(13),v=a(16),b=a(7),y=a.n(b),g=(a(63),a(64),a(65),a(84),a(98),\"https://Comic-Strip-API.426729.repl.co/api\");function k(t){return t.replace(/\\/[^\\/]*\\/(.*)$/g,\"$1\")}var j=function(t){function e(){return Object(p.a)(this,e),Object(d.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(v.a)(e,t),Object(h.a)(e,[{key:\"render\",value:function(){return s.a.createElement(O,null)}}]),e}(n.Component),O=function(t){function e(t){var a;Object(p.a)(this,e),a=Object(d.a)(this,Object(f.a)(e).call(this,t));var n=new URLSearchParams(window.location.search);a.url=n,a.state={date:[\"year\",\"month\",\"day\"].reduce(function(t,e){return t||!n.get(e)},!1)?new Date:new Date(n.get(\"year\")+\"-\"+n.get(\"month\")+\"-\"+(parseInt(n.get(\"day\"))+1)),comics:[]};var s=n.getAll(\"comic\");0===s.length?a.state.comics=[{id:\"pearlsbeforeswine\",name:\"Pearls Before Swine\"},{id:\"dilbert-classics\",name:\"Dilbert Classics\"},{id:\"lio\",name:\"Lio\"},{id:\"calvinandhobbes\",name:\"Calvin and Hobbes\"},{id:\"foxtrot\",name:\"Foxtrot\"},{id:\"dilbert\",name:\"Dilbert\"},{id:\"garfield\",name:\"Garfield\"}]:a.state.comics=s.map(function(t){return{id:t}});var r=y()(a.state.date).format(\"YYYY/MM/DD\");document.title=y()(a.state.date).format(\"MMMM D[, ]YYYY\");var i=a.state.comics.map(function(t){return Object(m.a)({},t,{date:r})});return a.state.comics=i,a}return Object(v.a)(e,t),Object(h.a)(e,[{key:\"render\",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(\"div\",{className:\"navBar\"},s.a.createElement(\"button\",{onClick:function(){return t.addDays(-1)},className:\"changeDate\"},\"<\"),s.a.createElement(\"h1\",{className:\"title\"},\"Cartoon Curator\"),s.a.createElement(\"button\",{onClick:function(){return t.addDays(1)},className:\"changeDate next\"},\">\")),s.a.createElement(\"div\",{className:\"App\"},this.state.comics.map(function(e,a){return s.a.createElement(D,{updateVals:function(e){return t.updateValue(a,e)},remove:function(){return t.popComic(a)},setDate:function(e){return t.setDate(a,e)},key:e.id,date:e.date,id:e.id,name:e.name})}),s.a.createElement(\"div\",{className:\"input-container\"},s.a.createElement(\"input\",{type:\"button\",onClick:function(){return t.addComic()},className:\"plus\",value:\"+\"}))))}},{key:\"addComic\",value:function(){this.setState({comics:[].concat(Object(u.a)(this.state.comics),[{id:\"\",name:\"\",date:y()(this.state.date).format(\"YYYY/MM/DD\")}])})}},{key:\"updateValue\",value:function(t,e){var a=Object(u.a)(this.state.comics);a[t]=Object.assign({},a[t],e),this.setURL(a),this.setState({comics:a})}},{key:\"setDate\",value:function(t,e){console.log(\"setDate\",e);var a=Object(u.a)(this.state.comics),n=Object(m.a)({},a[t]);n.date=k(e),a[t]=n,this.setState({comics:a})}},{key:\"popComic\",value:function(t){var e=Object(u.a)(this.state.comics),a=e.splice(t,1);return this.setState({comics:e}),a}},{key:\"addDays\",value:function(t){var e=new Date(this.state.date);e.setDate(this.state.date.getDate()+t),this.applyDate(e)}},{key:\"applyDate\",value:function(t){var e=y()(t).format(\"YYYY/MM/DD\"),a=this.state.comics.map(function(t){return Object(m.a)({},t,{date:e})});this.setURL(void 0,e),this.setState({date:t,comics:a})}},{key:\"setURL\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.date,a=y()(e);if(t){this.url.delete(\"comic\");var n=!0,s=!1,r=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var o=i.value;this.url.append(\"comic\",o.id)}}catch(l){s=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(s)throw r}}}e&&(this.url.set(\"year\",a.format(\"YYYY\")),this.url.set(\"month\",a.format(\"MM\")),this.url.set(\"day\",a.format(\"DD\"))),window.history.pushState(e,y()(e).format(\"MMMM D[,] YYYY\"),\"?\"+this.url.toString())}}]),e}(n.Component),D=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(d.a)(this,Object(f.a)(e).call(this,t))).state={date:a.props.date,path:\"\",strips:{},shown:!0,id:a.props.id,name:a.props.name},a.state.id&&(a.state.path=a.getPath(),a.findUrl(a.state.path)),a}return Object(v.a)(e,t),Object(h.a)(e,[{key:\"render\",value:function(){var t=this;console.log(\"Woohoo, starting render and\",this.state.date),this.findUrl();var e=this.state.strips[this.state.path]||{};return\"\"!==this.state.path&&this.state.id?e.url?s.a.createElement(\"div\",{className:\"comic-container\"},s.a.createElement(\"h2\",null,this.state.name),s.a.createElement(\"p\",null,k(this.state.path)),s.a.createElement(\"span\",{role:\"img\",\"aria-label\":\"Delete\",onClick:this.props.remove},\"\\u274c\"),s.a.createElement(\"span\",{className:\"comic\"},s.a.createElement(\"input\",{type:\"button\",onClick:function(){console.log(e.previous,\"bluh\"),t.findUrl(e.previous)},value:\"\\u2190\",className:\"arrow\"}),s.a.createElement(\"img\",{ref:\"next\",alt:\"\",style:{display:\"none\"},src:(this.state.strips[e.previous]||{}).url}),s.a.createElement(\"span\",null,s.a.createElement(\"img\",{ref:\"this\",alt:this.state.name||this.state.id+\" comic strip\",src:e.url,onClick:function(){return t.findUrl(e.previous)}})),s.a.createElement(\"img\",{ref:\"last\",alt:\"\",style:{display:\"none\"},src:(this.state.strips[e.next]||{}).url}),s.a.createElement(\"input\",{type:\"button\",onClick:function(){return t.findUrl(e.next)},value:\"\\u2192\",className:\"arrow\"}))):null:s.a.createElement(\"div\",{className:\"input-container\"},s.a.createElement(E,{updateValue:function(e){return t.props.updateVals({id:e.id,name:e.name})}}))}},{key:\"findUrl\",value:function(){var t=Object(l.a)(o.a.mark(function t(e){var a,n,s,r,i,c,l,u,m,p;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e||this.getPath(),n={},Object.keys(this.state.strips).includes(e)){t.next=16;break}return s=\"\".concat(g).concat(e),t.next=6,fetch(s);case 6:return r=t.sent,t.next=9,r.json();case 9:if(!(r=t.sent).error){t.next=12;break}return t.abrupt(\"return\",console.log(s,\"failed\"));case 12:a=r,console.log(r),t.next=17;break;case 16:a=this.state.strips[e];case 17:n[e]=a,this.state.path!==e&&(console.log(this.state.path,e),this.setState({path:e})),i=0,c=[\"previous\",\"next\"];case 20:if(!(i<c.length)){t.next=43;break}if(l=c[i],this.state.strips[a[l]]||!a[l]||\"\"===a[l]){t.next=39;break}return u=\"\".concat(g).concat(a[l]),t.next=26,fetch(u);case 26:return m=t.sent,t.prev=27,t.next=30,m.json();case 30:m=t.sent,t.next=36;break;case 33:return t.prev=33,t.t0=t.catch(27),t.abrupt(\"continue\",40);case 36:n[a[l]]=m,t.next=40;break;case 39:n[a[l]]=this.state.strips[a[l]];case 40:i++,t.next=20;break;case 43:p=Object.keys(this.state.strips),Object.keys(n).filter(function(t){return!p.includes(t)}).length>0&&(console.log(\"strips\"),this.setState({strips:n}));case 45:case\"end\":return t.stop()}},t,this,[[27,33]])}));return function(e){return t.apply(this,arguments)}}()},{key:\"getPath\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.date;return console.log(\"getPath\",this.state.date),\"/\".concat(this.state.id,\"/\").concat(t)}}],[{key:\"getDerivedStateFromProps\",value:function(t,e){return console.log(\"At gds\",t.date),t.date!==e.date?{date:t.date}:null}}]),e}(n.Component),E=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(d.a)(this,Object(f.a)(e).call(this,t))).state={strips:{Select:\"\"}},a.findStrips(),a}return Object(v.a)(e,t),Object(h.a)(e,[{key:\"render\",value:function(){var t=this;return s.a.createElement(\"select\",{className:\"comic-choice\",onChange:function(e){return t.props.updateValue({name:e.target.value,id:t.state.strips[e.target.value]})}},Object.keys(this.state.strips).map(function(t){return s.a.createElement(\"option\",{key:t,value:t},t)}))}},{key:\"findStrips\",value:function(){var t=Object(l.a)(o.a.mark(function t(){var e,a,n,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"\".concat(g,\"/ids\"));case 2:return e=t.sent,t.next=5,e.json();case 5:for(e=t.sent,a={Select:\"\"},n=0,s=Object.keys(e);n<s.length;n++)r=s[n],a=Object(m.a)({},a,e[r]);this.setState({strips:a});case 9:case\"end\":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(n.Component),x=j;i.a.render(s.a.createElement(x,null),document.getElementById(\"root\"))}},[[54,1,2]]]);","extractedComments":[]}